import{u as b,r as n,b as s,i as v,j as r,a as i,f as m}from"./index.f58de973.js";import{R as P}from"./ReceptionistSidebar.51d407d7.js";import{B}from"./ButtonPreloader.94c40e61.js";import"./react-confirm-alert.a960cfb7.js";import{B as E}from"./Button.401e0b30.js";import{S as L}from"./Select.20c0844e.js";import{F as j}from"./FormLayout.d72bc2a5.js";import"./index.esm.21d46d26.js";import"./index.esm.3440d2e7.js";import"./Forbidden.62eadd33.js";function z(){const c=b(),[d,l]=n.exports.useState([]),[h,p]=n.exports.useState([]),[f,g]=n.exports.useState(!1),[a,o]=n.exports.useState({name:""});function S(e){o(t=>({...t,[e.target.name]:e.target.value}))}n.exports.useEffect(()=>{s.get("/patient").then(e=>{l(e.data)}),s.get(`/queue/?edit=${u}`).then(e=>{var t;o(e.data),p((t=e.data)==null?void 0:t.name)})},[]);let x=v().search;const u=new URLSearchParams(x).get("edit");return r(P,{children:r(j,{formName:"Edit Queue",children:i("form",{onSubmit:e=>{e.preventDefault(),g(!0),s.put(`/queue/${u}`,{name:a==null?void 0:a.name}).then(t=>{c("/receptionist/queue",{replace:!0}),m.success(t.data)}).catch(t=>{m.error(t.response.data)})},children:[" ",i(L,{label:"Patient",name:"name",type:"text",onChange:S,children:[r("option",{value:a==null?void 0:a.name,children:h}),d.map((e,t)=>r("option",{value:e==null?void 0:e.name,children:e==null?void 0:e.name},t))]}),r(E,{children:f?r(B,{}):"Edit Queue"})]})})})}export{z as default};
