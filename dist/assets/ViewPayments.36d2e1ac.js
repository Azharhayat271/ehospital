import{r as n,l as R,j as r,a as o,b as P}from"./index.f58de973.js";import{R as v}from"./ReactPagination.cf11bdc7.js";import{D as C}from"./DeleteButton.4f77d945.js";import{E as D}from"./EditButton.73344e14.js";import{S as E}from"./SearchInput.fbf5bece.js";import{h as I}from"./react-confirm-alert.a960cfb7.js";import{O as S,a as j}from"./OptionsTh.c75c39d4.js";import{T as w,a as F,b as i,c as M,d as s}from"./Thead.153a86c7.js";import{I as _}from"./IndexNo.9a14fcf3.js";import{T as B}from"./TotalNo.b321ab04.js";import{R as L}from"./index.esm.9fff59ce.js";function U(){const{user:t}=n.exports.useContext(R),[c,a]=n.exports.useState([]),[h,f]=n.exports.useState(1);function u(){P.get("/payments").then(e=>{a(e.data)}).catch(e=>{toast.error(e.data)})}n.exports.useEffect(()=>{u()},[]);const T=e=>{P.get(`/payments?q=${e}`).then(l=>{a(l.data),f(1)})},d=10,g=h*d,b=g-d,N=c.slice(b,g),m=Math.ceil(c.length/d),O=e=>{f(e.selected+1)};return r("div",{className:"p-8 bg-gray-100",children:o("div",{children:[o("div",{className:"flex justify-between items-center",children:[r(E,{onSearch:T}),o("div",{className:"items-center flex flex-col lg:flex-row",children:[r(B,{totalnumber:c==null?void 0:c.length}),r(v,{pageCount:m,handlePageClick:O})]})]}),o(w,{children:[o(F,{children:[r(_,{children:"#"}),r(i,{children:"Reg. Id"}),r(i,{children:"Patient Name"}),r(i,{children:"Date"}),r(i,{children:"Amount"}),r(i,{children:"Mode of Payment"}),r(i,{children:"Purpose"}),(t==null?void 0:t.role)!=="admin"&&r(S,{children:"Options"})]}),N.map((e,l)=>{var x;return o(M,{children:[r(s,{children:l+1*(h*d-9)}),r(s,{className:"font-bold",children:(x=e==null?void 0:e.patients[0])==null?void 0:x.registrationId}),r(s,{children:e==null?void 0:e.name}),r(s,{children:e==null?void 0:e.date}),r(s,{children:o("span",{className:"font-bold",children:["Rs.",e==null?void 0:e.amount]})}),r(s,{children:e==null?void 0:e.modeofpayment}),r(s,{children:e==null?void 0:e.purpose}),(t==null?void 0:t.role)!=="admin"&&o(j,{children:[o(D,{editFunction:`/accountant/edit_payment?edit=${e==null?void 0:e._id}`,children:["Edit",r(L,{})]}),o(C,{path:"payments",id:e==null?void 0:e._id,record:u,children:["Delete",r(I,{})]})]})]},l)})]})]})})}export{U as V};
