import{u as g,r,i as C,b as i,j as t,a as x,f as l}from"./index.f58de973.js";import{B as v}from"./ButtonPreloader.94c40e61.js";import"./react-confirm-alert.a960cfb7.js";import{B as b}from"./Button.401e0b30.js";import{I as s}from"./Input.2b19439f.js";import{A as w}from"./AdminSidebar.2d80ad59.js";import{F as y}from"./FormLayout.d72bc2a5.js";import"./index.esm.21d46d26.js";import"./index.esm.9dc20768.js";import"./index.esm.3440d2e7.js";import"./index.esm.21c75374.js";import"./Forbidden.62eadd33.js";function $(){const u=g(),[c,m]=r.exports.useState(!1),[e,d]=r.exports.useState({name:"",email:"",role:"accountant",department:"",address:"",phone:"",password:""});function n(a){d(p=>({...p,[a.target.name]:a.target.value}))}let h=C().search;const o=new URLSearchParams(h).get("edit");return r.exports.useEffect(()=>{i.get(`/staff/?edit=${o}`).then(a=>{d(a.data)})},[]),t(w,{children:t(y,{formName:"EDIT ACCOUNTANT",children:x("form",{onSubmit:a=>{a.preventDefault(),m(!0),i.put(`/staff/${o}`,{name:e==null?void 0:e.name,email:e==null?void 0:e.email,role:e==null?void 0:e.role,department:e==null?void 0:e.department,address:e==null?void 0:e.address,phone:e==null?void 0:e.phone,password:e==null?void 0:e.password}).then(p=>{u("/admin/accountants",{replace:!0}),l.success(p.data)}).catch(p=>l.error(p.response.data))},children:[t(s,{label:"Name",type:"text",name:"name",value:e==null?void 0:e.name,onChange:n}),t(s,{label:"Email",type:"text",name:"email",value:e==null?void 0:e.email,onChange:n}),t(s,{label:"Department",type:"text",name:"department",value:e==null?void 0:e.department,onChange:n}),t(s,{label:"Address",type:"text",name:"address",value:e==null?void 0:e.address,onChange:n}),t(s,{label:"Phone",type:"text",name:"phone",value:e==null?void 0:e.phone,onChange:n}),t(s,{label:"Password",type:"password",name:"password",value:e==null?void 0:e.password,onChange:n}),t("input",{type:"hidden",name:"role",onChange:n}),t(b,{children:c?t(v,{}):"EDIT ACCOUNTANT"})]})})})}export{$ as default};
