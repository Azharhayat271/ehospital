import{r as h,l as G,j as e,a as n,b as B,f}from"./index.f58de973.js";import{D as I}from"./DeleteButton.4f77d945.js";import{E as R}from"./EditButton.73344e14.js";import{B as j}from"./Button.401e0b30.js";import{I as r}from"./Input.2b19439f.js";import{S as M}from"./SearchInput.fbf5bece.js";import{S as C}from"./Select.20c0844e.js";import{h as $}from"./react-confirm-alert.a960cfb7.js";import{O as _,a as w}from"./OptionsTh.c75c39d4.js";import{T as k,a as q,b as c,c as z,d as l}from"./Thead.153a86c7.js";import{F as D}from"./FormLayout.d72bc2a5.js";import{T as H}from"./Tabs.d7c11583.js";import{I as J}from"./IndexNo.9a14fcf3.js";import{T as K}from"./TotalNo.b321ab04.js";import{R as Q}from"./index.esm.9fff59ce.js";import{R as U}from"./ReactPagination.cf11bdc7.js";import{B as V}from"./ButtonPreloader.94c40e61.js";function ge({role:A}){const{user:g}=h.exports.useContext(G),[p,o]=h.exports.useState([]),[x,v]=h.exports.useState(1),[S,u]=h.exports.useState(!1),[a,y]=h.exports.useState({staffname:`${g==null?void 0:g.name}`,name:"",email:"",address:"",phone:"",gender:"",age:"",bloodgroup:"",bags:"",lastdonationdate:""});function s(t){y(i=>({...i,[t.target.name]:t.target.value}))}function d(){B.get("/blooddonor").then(t=>{o(t.data)}).catch(t=>{f.error(t.data)})}const P=t=>{t.preventDefault(),u(!0),B.post("/blooddonor",{name:a==null?void 0:a.name,email:a==null?void 0:a.email,address:a==null?void 0:a.address,phone:a==null?void 0:a.phone,gender:a==null?void 0:a.gender,age:a==null?void 0:a.age,bloodgroup:a==null?void 0:a.bloodgroup,bags:a==null?void 0:a.bags,lastdonationdate:a==null?void 0:a.lastdonationdate,staffname:a==null?void 0:a.staffname}).then(i=>{u(!1),d(),f.success(i.data)}).catch(i=>{u(!1),f.error(i.response.data)})};h.exports.useEffect(()=>{d()},[]);const T=t=>{B.get(`/blooddonor?q=${t}`).then(i=>{o(i.data),v(1)})},m=10,O=x*m,N=O-m,F=p.slice(N,O),L=Math.ceil(p.length/m),E=t=>{v(t.selected+1)};return e(H,{label1:"Blood Donors",label2:"Add Blood Donor",content1:n("div",{children:[n("div",{className:"flex justify-between items-center",children:[e(M,{onSearch:T}),n("div",{className:"items-center flex flex-col lg:flex-row",children:[e(K,{totalnumber:p==null?void 0:p.length}),e(U,{pageCount:L,handlePageClick:E})]})]}),n(k,{children:[n(q,{children:[e(J,{children:"#"}),e(c,{children:"Name"}),e(c,{children:"Phone"}),e(c,{children:"Gender"}),e(c,{children:"Age"}),e(c,{children:"Blood Group"}),e(c,{children:"No. Of Bags"}),e(c,{children:"Last Donation Date"}),e(_,{children:"Options"})]}),F.map((t,i)=>n(z,{children:[e(l,{children:i+1*(x*m-9)}),e(l,{children:t==null?void 0:t.name}),e(l,{children:t==null?void 0:t.phone}),e(l,{children:t==null?void 0:t.gender}),e(l,{children:t==null?void 0:t.age}),e(l,{children:t==null?void 0:t.bloodgroup}),e(l,{children:t==null?void 0:t.bags}),e(l,{children:t==null?void 0:t.lastdonationdate}),n(w,{children:[n(R,{editFunction:`${A}/edit_blooddonor?edit=${t==null?void 0:t._id}`,children:["Edit",e(Q,{})]}),n(I,{path:"blooddonor",id:t==null?void 0:t._id,record:d,children:["Delete",e($,{})]})]})]},i))]})]}),content2:e(D,{formName:"ADD BLOOD DONOR",children:n("form",{onSubmit:P,children:[e(r,{label:"Name",type:"text",name:"name",onChange:s}),e(r,{label:"Email",type:"email",name:"email",onChange:s}),e(r,{label:"Address",type:"text",name:"address",onChange:s}),e(r,{label:"Phone",type:"text",name:"phone",onChange:s}),n(C,{label:"Gender",name:"gender",type:"text",onChange:s,children:[e("option",{value:"",children:"Select Gender"}),e("option",{value:"Male",children:"Male"}),e("option",{value:"Female",children:"Female"})]}),e(r,{label:"Age",type:"text",name:"age",onChange:s}),n(C,{label:"Blood Group",type:"text",name:"bloodgroup",onChange:s,children:[e("option",{value:"",children:"Select Blood Group"}),e("option",{value:"A+",children:"A+"}),e("option",{value:"A-",children:"A-"}),e("option",{value:"B+",children:"B+"}),e("option",{value:"B-",children:"B-"}),e("option",{value:"O+",children:"O+"}),e("option",{value:"O-",children:"O-"}),e("option",{value:"AB+",children:"AB+"}),e("option",{value:"AB-",children:"AB-"})]}),e(r,{label:"No. Of Bags",type:"text",name:"bags",onChange:s}),e(r,{label:"Last Donation Date",type:"date",name:"lastdonationdate",onChange:s}),e(j,{children:S?e(V,{}):"Add Blood Donor"})]})})})}export{ge as B};
