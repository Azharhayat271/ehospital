import{r as d,l as C,u as m,i as y,b as g,j as n,a as i,f as h}from"./index.f58de973.js";import{B as A}from"./ButtonPreloader.94c40e61.js";import"./react-confirm-alert.a960cfb7.js";import{B as O}from"./Button.401e0b30.js";import{I as o}from"./Input.2b19439f.js";import{S as r}from"./Select.20c0844e.js";import{F as S}from"./FormLayout.d72bc2a5.js";function G({url:c}){const{user:s}=d.exports.useContext(C),b=m(),[v,B]=d.exports.useState(!1),[e,p]=d.exports.useState({staffname:`${s==null?void 0:s.name}`,name:"",email:"",address:"",phone:"",gender:"",age:"",bloodgroup:"",bags:"",lastdonationdate:""});function l(t){p(a=>({...a,[t.target.name]:t.target.value}))}let x=y().search;const u=new URLSearchParams(x).get("edit");return d.exports.useEffect(()=>{g.get(`/blooddonor/?edit=${u}`).then(t=>{p(t.data)})},[]),n(S,{formName:"EDIT BLOOD DONOR",children:i("form",{onSubmit:t=>{t.preventDefault(),B(!0),g.put(`/blooddonor/${u}`,{name:e==null?void 0:e.name,email:e==null?void 0:e.email,address:e==null?void 0:e.address,phone:e==null?void 0:e.phone,gender:e==null?void 0:e.gender,age:e==null?void 0:e.age,bloodgroup:e==null?void 0:e.bloodgroup,bags:e==null?void 0:e.bags,lastdonationdate:e==null?void 0:e.lastdonationdate,staffname:e==null?void 0:e.staffname}).then(a=>{b(`${c}`,{replace:!0}),h.success(a.data)}).catch(a=>h.error(a.response.data))},children:[n(o,{label:"Name",type:"text",name:"name",value:e==null?void 0:e.name,onChange:l}),n(o,{label:"Email",type:"email",name:"email",value:e==null?void 0:e.email,onChange:l}),n(o,{label:"Address",type:"text",name:"address",value:e==null?void 0:e.address,onChange:l}),n(o,{label:"Phone",type:"text",name:"phone",value:e==null?void 0:e.phone,onChange:l}),i(r,{label:"Gender",name:"gender",type:"text",onChange:l,children:[n("option",{value:e==null?void 0:e.gender,children:e==null?void 0:e.gender}),n("option",{value:"Male",children:"Male"}),n("option",{value:"Female",children:"Female"})]}),n(o,{label:"Age",type:"text",name:"age",value:e==null?void 0:e.age,onChange:l}),i(r,{label:"Blood Group",type:"text",name:"bloodgroup",onChange:l,children:[n("option",{value:e==null?void 0:e.bloodgroup,children:e==null?void 0:e.bloodgroup}),n("option",{value:"A+",children:"A+"}),n("option",{value:"A-",children:"A-"}),n("option",{value:"B+",children:"B+"}),n("option",{value:"B-",children:"B-"}),n("option",{value:"O+",children:"O+"}),n("option",{value:"O-",children:"O-"}),n("option",{value:"AB+",children:"AB+"}),n("option",{value:"AB-",children:"AB-"})]}),n(o,{label:"No. Of Bags",type:"text",name:"bags",value:e==null?void 0:e.bags,onChange:l}),n(o,{label:"Last Donation Date",type:"date",name:"lastdonationdate",value:e==null?void 0:e.lastdonationdate,onChange:l}),n(O,{children:v?n(A,{}):"Edit Blood Donor"})]})})}export{G as E};
